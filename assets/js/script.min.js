((() => {




    const rw = document.querySelectorAll('.rott')
    for (let i = 0; i < rw.length; i++) {
        rw[i].onclick = () => {
            let rwh = rw[i].querySelector('.wr')
            let rwr = rwh.children
            let r = []
            for (let i = 0; i < rwr.length; i++) {
                let e = rwr[i];
                r.push(e.clientHeight)
            }
            let mesu = r.reduce((a, b) => a + b)
            rwh.classList.contains('hop') ? rwh.style.height = mesu + "px" : rwh.style.height = null
        }

    }



    //selectionne les puces et les deroule au click
    const m = document.querySelectorAll(".puc");
    for (const pc of m) {
        pc.parentNode.addEventListener("click", function() {

            const t = this.lastElementChild;
            t.classList.toggle("rotat180");
            this.nextElementSibling.classList.toggle("hop");
        });
    }

    //recuperation de la date
    const anne = document.querySelector(".annee");
    const d = new Date();
    const a = d.getFullYear();

    anne.innerHTML = `${a - 1}-${a}`;

}))();



//sidbar constroler


function fermeSidebar() {

    const layout = document.querySelector("#layout-container");
    const sidebar = document.querySelector("#sidebar");
    sidebar.classList.toggle("sidbarCloser");
    layout.classList.toggle("cent");
}

function bold() {
    const boldr = document.querySelector(".ajouter-element");
    boldr.classList.toggle("efe");

}



//modale pour ajouter eleve
let modal = document.querySelector('.modal')
modal.addEventListener('click', () => {
    modal.style.display = "none"
})


//permet de vider les champs du formulaire d'ajouter eleves
function vider_champ() {
    document.querySelector('#nom').value = ''
    document.querySelector('#prenom').value = ''
    document.querySelector('#etablissement').value = ''
    document.querySelector('#classe').value = ''
}



document.querySelector('.annuler').addEventListener('click', () => {

    vider_champ()
    modal.style.display = "none"
})
let former = document.querySelector('.former')
former.addEventListener('click', (e) => {
    e.stopPropagation()
})



let add_el = document.querySelector('.eleve_add_modal')
add_el.addEventListener('click', () => {
    modal.style.display = "block"
})

//ouverture de plus
function plu() {
    let plus = document.querySelectorAll('.more')
    plus.forEach(e => {
        e.addEventListener('click', () => {
            e.children[1].classList.toggle('visible')
            console.log(e.children[1].classList)
        })
    })
}

document.addEventListener('load', () => {
    plu()
})



document.querySelectorAll('.select').forEach(e => {
    e.addEventListener('click', (r) => {
        r.preventDefault()
    })
})